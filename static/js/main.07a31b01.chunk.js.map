{"version":3,"sources":["NavBar.js","GameContainer/noteData.js","GameContainer/Blocks.js","GameContainer/GuessButtonsContainer.js","GameContainer/StatusContainer.js","GameContainer/loadMusicLoopData.js","GameContainer/index.js","About.js","HowToPlay.js","App.js","index.js"],"names":["NavBarBtn","link","name","exact","to","className","activeClassName","NavBar","tones","musicalNotes","i","map","note","push","toneGen","chordGen","root","rtScale","chordInv","diceRoll","chord","chordFormula","noteData","scale","s","generatedScale","scalenote","tempScaleArr","x","scaleGen","scaleFormula","major","chords","chordProgressionFormula","chordRoot","randNote","rN","rNoteDegree","chordDegreeFormula","randNoteGen","chordProgression","chordDeg","degree","degreeNote","setupChordDegree","n","Math","floor","random","BlockMusical","measure","number","handleBlockClick","children","classNameM","onClick","BlockEmpty","Blocks","questionBlock","blockname","key","GuessButton","deg","handleGuessClick","playing","dis","disabled","value","clicked","GuessButtons","data","arr","StatusBoard","displayText","ScoreBoard","scoreBoard","avgAttempts","toFixed","ceil","percent","StatusContainer","padSynth","Tone","PolySynth","FMSynth","harmonicity","modulationIndex","oscillator","type","envelope","attack","decay","sustain","release","modulation","modulationEnvelope","toMaster","bassSynth","MonoSynth","modulationType","filter","Q","rolloff","volume","filterEnvelope","baseFrequency","octaves","guessSynth","playbackSynth","Synth","loadSingleChord","Transport","scheduleOnce","time","triggerAttackRelease","GameContainer","useState","correct","total","setScoreBoard","degreeBtnData","setDegreeBtnData","setMeasure","setPlaying","setQuestionBlock","setDisplayText","musicData","useRef","correctRef","timeSignature","bpm","newKey","useCallback","setMusicRef","setupGuessButtons","useEffect","setTimeout","current","setCorrectRef","setupScoreBoard","num","prevState","attempts","answer","playAfterCorrect","start","play","padData","cancel","loop","Sequence","beat","Draw","schedule","dispose","stop","createLoop","handleClick","singleLoop","createSingleLoop","handleIncorrect","updatedState","UserButton","About","HowToPlay","App","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.07a31b01.chunk.js","sourcesContent":["import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nconst NavBarBtn = ({ link, name }) => (\n  <NavLink exact to={link} className=\"link\" activeClassName=\"linkSelected\">\n    {name}\n  </NavLink>\n);\n\nconst NavBar = () => (\n  <div className=\"navbar\">\n    <span className=\"logo\">MuziKa!</span>\n    <div className=\"linkContainer\">\n      <NavBarBtn link=\"/\" name=\"Game\" />\n      <NavBarBtn link=\"/howtoplay\" name=\"How to Play\" />\n      <NavBarBtn link=\"/about\" name=\"About\" />\n    </div>\n  </div>\n);\n\nexport default NavBar;\n","//Generates the data of a 6 octave musical 'keyboard' readable  by Tone.js\nconst toneGen = () => {\n  //prettier-ignore\n  let musicalNotes = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"];\n  let tones = [];\n\n  for (let i = 1; i < 7; i++) {\n    musicalNotes.map(note => tones.push(`${note}${i}`));\n  }\n  return tones;\n};\n\nlet tones = toneGen();\n\n//Generates 'random' mystery note\nconst randNoteGen = root => {\n  let rN = diceRoll(11);\n  let randNote = tones[root + rN + 36];\n  let rNoteDegree = chordDegreeFormula[rN];\n\n  return {\n    randNote,\n    rNoteDegree\n  };\n};\n\nconst chordProgressionGen = (rtScale, chdProgForm) => {\n  return chdProgForm.map(chordRoot => {\n    return chordGen(chordRoot, rtScale);\n  });\n};\n\n//Generates a chord with random voicing, for a variety of voice leadings\nconst chordGen = (root, rtScale) => {\n  let chordInv = diceRoll(3);\n  let chord = [];\n  for (let i = 0; i <= 2; i++) {\n    chord.push(chordFormula[chordInv + i] + root);\n  }\n  return chord.map(note => rtScale[note + 14]);\n};\n\nconst scaleGen = (root, s, tones) => {\n  let generatedScale = [];\n  for (let i = 1, x = root; i < 6; i++) {\n    s.map(scalenote => {\n      let tempScaleArr = generatedScale.push(tones[scalenote + x]);\n      x += scalenote;\n      return tempScaleArr;\n    });\n    x = root + i * 12;\n  }\n  return generatedScale;\n};\n\nconst setupChordDegree = (root, chordDegreeFormula) => {\n  return chordDegreeFormula.map((chordDeg, i) => {\n    return {\n      degree: chordDeg,\n      degreeNote: tones[root + i + 36]\n    };\n  });\n};\n\nexport const noteData = () => {\n  let root = diceRoll(11);\n  let scale = scaleGen(root, scaleFormula.major, tones);\n  let chords = chordProgressionGen(scale, chordProgressionFormula);\n  let randNote = randNoteGen(root);\n  let chordProgression = chordProgressionFormula;\n  let chordDeg = setupChordDegree(root, chordDegreeFormula);\n  return {\n    root: tones[root],\n    scale,\n    chords,\n    chordProgression,\n    randNote,\n    chordDeg\n  };\n};\n\nconst diceRoll = n => {\n  return Math.floor(Math.random() * n);\n};\n\nconst scaleFormula = { major: [0, 2, 2, 1, 2, 2, 2] };\n\nconst chordProgressionFormula = [0, 3, 4, 0];\n\nconst chordFormula = [-3, 0, 2, 4, 7];\n\n// prettier-ignore\nconst chordDegreeFormula = [\"R/8\", \"♭9\", \"9\", \"♭10\", \"10\", \"11\", \"o12/TT\", \"12\", \"♭6\", \"6\", \"♭7\", \"7\"];\n","import React from \"react\";\nimport \"../App.css\";\n\nconst BlockMusical = ({ measure, number, handleBlockClick, children }) => {\n  let classNameM = \"\";\n  number === 5 && children !== \"???\" && (classNameM = \"mysteryBlock\");\n  return (\n    <div\n      onClick={() => handleBlockClick(number)}\n      className={measure === number ? \"musicBlockActive\" : \"musicBlock\"}\n    >\n      <span className={classNameM}>{children}</span>\n    </div>\n  );\n};\n\nconst BlockEmpty = () => {\n  return <div></div>;\n};\n\nconst Blocks = ({ measure, handleBlockClick, questionBlock }) => {\n  // prettier-ignore\n  const displayNames = [\"I\", \"IV\", \"V\", \"I\", 0, \"???\"]\n\n  return displayNames.map((blockname, i) => {\n    let name = blockname;\n    if (blockname === \"???\") {\n      name = questionBlock;\n    }\n    if (!blockname) {\n      return <BlockEmpty key={i} />;\n    }\n    return (\n      <BlockMusical\n        measure={measure}\n        key={i}\n        number={i}\n        handleBlockClick={handleBlockClick}\n      >\n        {name}\n      </BlockMusical>\n    );\n  });\n};\n\nexport default Blocks;\n","import React from \"react\";\n\nexport const setupGuessButtons = (data, answer, setDegreeBtnData) => {\n  let degreeArr = data.map((name, i) => {\n    let correct = answer === name.degree;\n    return {\n      name: name.degree,\n      correct,\n      clicked: \"false\",\n      note: name.degreeNote\n    };\n  });\n  setDegreeBtnData(degreeArr);\n};\n\nconst GuessButtons = ({ data, handleGuessClick, playing }) => {\n  let arr = null;\n  if (data) {\n    arr = data.map((deg, i) => (\n      <GuessButton\n        key={i}\n        deg={deg}\n        handleGuessClick={handleGuessClick}\n        playing={playing}\n      />\n    ));\n  }\n  return arr;\n};\n\nexport const GuessButton = ({ deg, handleGuessClick, playing }) => {\n  const dis = deg.disabled || playing;\n  return (\n    <button\n      value={deg.name}\n      disabled={dis}\n      clicked={deg.clicked}\n      onClick={() => handleGuessClick(deg)}\n    >\n      {deg.name}\n    </button>\n  );\n};\n\nexport default GuessButtons;\n","import React from \"react\";\n\nconst StatusBoard = ({ displayText }) => {\n  return (\n    <div className=\"statusBoard\">\n      <span> {displayText} </span>\n    </div>\n  );\n};\n\nconst ScoreBoard = ({ scoreBoard }) => {\n  return (\n    <div className=\"scoreBoard\">\n      <span>{scoreBoard.avgAttempts.toFixed(1)}</span>\n      <span>{Math.ceil(scoreBoard.percent * 100)}%</span>\n    </div>\n  );\n};\n\nconst StatusContainer = ({ scoreBoard, displayText }) => {\n  return (\n    <div className=\"statusContainer\">\n      <StatusBoard displayText={displayText} />\n      <ScoreBoard scoreBoard={scoreBoard} />\n    </div>\n  );\n};\n\nexport default StatusContainer;\n","import Tone from \"tone\";\n\nconst padSynth = new Tone.PolySynth(3, Tone.FMSynth, {\n  harmonicity: 3.01,\n  modulationIndex: 14,\n  oscillator: {\n    type: \"triangle\"\n  },\n  envelope: {\n    attack: 0.2,\n    decay: 0.3,\n    sustain: 0.1,\n    release: 1.2\n  },\n  modulation: {\n    type: \"square\"\n  },\n  modulationEnvelope: {\n    attack: 0.01,\n    decay: 0.5,\n    sustain: 0.2,\n    release: 0.1\n  }\n}).toMaster();\nconst bassSynth = new Tone.MonoSynth({\n  oscillator: {\n    type: \"fmsquare5\",\n    modulationType: \"triangle\",\n    modulationIndex: 2,\n    harmonicity: 0.501\n  },\n  filter: {\n    Q: 1,\n    type: \"lowpass\",\n    rolloff: -24\n  },\n  envelope: {\n    attack: 0.01,\n    decay: 0.1,\n    sustain: 0.2,\n    release: 2\n  },\n  volume: -10,\n  filterEnvelope: {\n    attack: 0.01,\n    decay: 0.1,\n    sustain: 0.8,\n    release: 1.5,\n    baseFrequency: 50,\n    octaves: 4.4\n  }\n}).toMaster();\nconst guessSynth = new Tone.MonoSynth({\n  oscillator: {\n    type: \"square\"\n  },\n  filter: {\n    Q: 2,\n    type: \"lowpass\",\n    rolloff: -12\n  },\n  envelope: {\n    attack: 0.005,\n    decay: 3,\n    sustain: 0,\n    release: 0.45\n  },\n  filterEnvelope: {\n    attack: 0.001,\n    decay: 0.32,\n    sustain: 0.9,\n    release: 3,\n    baseFrequency: 700,\n    octaves: 2.3\n  }\n}).toMaster();\nconst playbackSynth = new Tone.PolySynth(3, Tone.Synth, {\n  oscillator: {\n    type: \"sawtooth\"\n  },\n  volume: -16,\n  filter: {\n    Q: 1,\n    type: \"lowpass\",\n    rolloff: -12\n  },\n  envelope: {\n    attack: 0.1,\n    decay: 0.1,\n    sustain: 0.9,\n    release: 0.3\n  }\n}).toMaster();\n\nexport const loadChords = padData => {\n  let noteLength = \"2n\";\n  Tone.Transport.scheduleOnce(time => {\n    guessSynth.triggerAttackRelease(\n      padData.randNote.randNote,\n      noteLength,\n      time\n    );\n  }, \"5:0\");\n\n  padData.chords.map((chord, i) =>\n    Tone.Transport.scheduleOnce(time => {\n      padSynth.triggerAttackRelease(chord, noteLength, time);\n    }, `${i}:0`)\n  );\n  padData.chordProgression.map((degree, i) =>\n    Tone.Transport.scheduleOnce(time => {\n      bassSynth.triggerAttackRelease(\n        padData.scale[degree + 7],\n        noteLength,\n        time\n      );\n    }, `${i}:0`)\n  );\n};\n\nexport const createLoop = (\n  setMeasure,\n  setPlaying,\n  correctRef,\n  setCorrectRef,\n  playAfterCorrect\n) => {\n  let loop = new Tone.Sequence(\n    (time, beat) => {\n      Tone.Draw.schedule(() => {\n        setMeasure(beat);\n        if (beat === 0) {\n          setPlaying(true);\n        }\n        if (beat === 7) {\n          setMeasure(\"off\");\n          loop.dispose();\n          correctRef.current ? playAfterCorrect() : setPlaying(false);\n        }\n      }, time);\n    },\n    [0, 1, 2, 3, 4, 5, 6, 7, \"off\"],\n    \"1m\"\n  );\n  loop.start(0).stop(\"8m\");\n};\n\nexport const loadSingleChord = chord => {\n  Tone.Transport.scheduleOnce(time => {\n    playbackSynth.triggerAttackRelease(chord, \"2n\", time);\n  }, \"0:0\");\n};\n\nexport const createSingleLoop = setMeasure => {\n  let singleLoop = new Tone.Sequence(\n    (time, beat) => {\n      if (beat === 1) {\n        setMeasure(\"off\");\n        singleLoop.dispose();\n      }\n    },\n    [0, 1],\n    \"1m\"\n  );\n  singleLoop.start(0).stop(\"2m\");\n};\n","import React, { useState, useCallback, useEffect, useRef } from \"react\";\nimport \"../App.css\";\nimport Tone from \"tone\";\nimport { noteData } from \"./noteData\";\nimport Blocks from \"./Blocks\";\nimport GuessButtons from \"./GuessButtonsContainer\";\nimport StatusContainer from \"./StatusContainer\";\n// prettier-ignore\nimport { createLoop, createSingleLoop, loadChords, loadSingleChord } from \"./loadMusicLoopData\";\n\nconst GameContainer = () => {\n  // prettier-ignore\n  const [scoreBoard, setScoreBoard] = useState({correct: 0, total: 0, percent: \"\", avgAttempts: 0});\n  const [degreeBtnData, setDegreeBtnData] = useState([]);\n  const [measure, setMeasure] = useState(\"off\");\n  const [playing, setPlaying] = useState(true);\n  const [questionBlock, setQuestionBlock] = useState(\"???\");\n  const [displayText, setDisplayText] = useState(\n    \"Game Initiated: Click 'PLAY' hear the musical progression. Then guess a degree\"\n  );\n  const musicData = useRef({});\n  const correctRef = useRef(false);\n\n  Tone.Transport.timeSignature = [3, 4];\n  Tone.Transport.bpm.value = 400;\n\n  //useCallback invoked to prevent infinite looping from intial useEffect\n  const newKey = useCallback(() => {\n    let data = noteData();\n    setMusicRef(data);\n    setupGuessButtons(\n      data.chordDeg,\n      data.randNote.rNoteDegree,\n      setDegreeBtnData\n    );\n  }, []);\n\n  //useEffect to initialize game\n  useEffect(() => {\n    newKey();\n    setTimeout(() => {\n      setPlaying(false);\n    }, 900);\n  }, [newKey]);\n\n  const setMusicRef = data => {\n    musicData.current = data;\n  };\n\n  const setCorrectRef = data => {\n    correctRef.current = data;\n  };\n\n  const setupScoreBoard = num => {\n    setScoreBoard(prevState => {\n      prevState.correct += num;\n      prevState.total++;\n      prevState.attempts++;\n      prevState.percent = prevState.correct / prevState.total;\n      if (num === 1) {\n        prevState.avgAttempts = prevState.total / prevState.correct;\n      }\n\n      return prevState;\n    });\n  };\n\n  const setupGuessButtons = (data, answer, setDegreeBtnData) => {\n    let degreeArr = data.map((name, i) => {\n      let correct = answer === name.degree;\n      return {\n        name: name.degree,\n        correct,\n        clicked: \"false\",\n        note: name.degreeNote\n      };\n    });\n    setDegreeBtnData(degreeArr);\n  };\n\n  const handleCorrect = () => {\n    setDisplayText(\"Correct!\");\n    setCorrectRef(true);\n    start();\n    play();\n    setQuestionBlock(musicData.current.randNote.rNoteDegree);\n    setupScoreBoard(1);\n    newKey();\n  };\n\n  const playAfterCorrect = () => {\n    setDisplayText(\"New Key, Guess a degree\");\n    setQuestionBlock(\"???\");\n    setCorrectRef(false);\n    start();\n    play();\n  };\n\n  const handleIncorrect = data => {\n    setDisplayText(`${data.name} is incorrect`);\n    setupScoreBoard(0);\n    loadSingleChord(data.note);\n    play();\n  };\n\n  const handleChangeKey = () => {\n    setDisplayText(\"Key Changed\");\n    newKey();\n    start();\n    play();\n  };\n\n  const start = () => {\n    Tone.Transport.cancel();\n    setMeasure(0);\n    createLoop(\n      setMeasure,\n      setPlaying,\n      correctRef,\n      setCorrectRef,\n      playAfterCorrect\n    );\n    loadChords(musicData.current);\n  };\n\n  const play = (time = \"+0.2\") => {\n    Tone.Transport.stop();\n    Tone.Transport.start(time);\n  };\n\n  const handleBlockClick = number => {\n    if (!playing) {\n      Tone.Transport.cancel();\n      setMeasure(number);\n      let chord = [];\n      number !== 5\n        ? (chord = musicData.current.chords[number])\n        : (chord = [musicData.current.randNote.randNote]);\n      createSingleLoop(setMeasure);\n      loadSingleChord(chord);\n      play();\n    }\n  };\n\n  const handleGuessClick = (data, playing) => {\n    if (!playing) {\n      if (data.correct) {\n        handleCorrect(data);\n        setMeasure(0);\n      } else {\n        handleIncorrect(data);\n        setDegreeBtnData(prevState => {\n          let updatedState = [...prevState];\n          updatedState.map(deg => {\n            if (deg.name === data.name) {\n              deg.disabled = true;\n            }\n            return deg;\n          });\n          return updatedState;\n        });\n      }\n    }\n  };\n\n  return (\n    <div className=\"gameWrapper\">\n      <StatusContainer scoreBoard={scoreBoard} displayText={displayText} />\n      <div className=\"userBtns\">\n        <UserButton\n          handleClick={() => {\n            start();\n            play();\n          }}\n          playing={playing}\n        >\n          PLAY\n        </UserButton>\n        <UserButton handleClick={handleChangeKey} playing={playing}>\n          KEY CHANGE\n        </UserButton>\n      </div>\n      <div className=\"musicBlockBoard\">\n        <Blocks\n          measure={measure}\n          handleBlockClick={handleBlockClick}\n          questionBlock={questionBlock}\n        />\n      </div>\n      <div className=\"answerBoard\">\n        <GuessButtons\n          data={degreeBtnData}\n          handleGuessClick={handleGuessClick}\n          playing={playing}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default GameContainer;\n\nconst UserButton = ({ children, handleClick, playing }) => (\n  <button disabled={playing} onClick={handleClick}>\n    {children}\n  </button>\n);\n","import React from \"react\";\n\nconst About = () => {\n  return (\n    <div className=\"textContainer\">\n      <h3>About</h3>\n      <p>This program was created by Matthew Crompton</p>\n    </div>\n  );\n};\n\nexport default About;\n","import React from \"react\";\n\nconst HowToPlay = () => (\n  <div className=\"textContainer\">\n    <h3>What is MuziKa?</h3>\n    <p>\n      MuziKa! is an ear-training program designed to help improve the player's\n      harmonic comprehension.\n    </p>\n    <h3>Objective</h3>\n    <p>\n      The objective is to identify the mysterious tone (marked as '???'). Listen\n      to the chord progression and try to determine how the final tone is\n      harmonically related to the root chord (tonic).\n    </p>\n    <h3>How to Play</h3>\n    <p>\n      Press the 'PLAY' button and a I-IV-V-I chord progression will sound\n      followed by a single tone. At the bottom of the game board are 12 buttons\n      representing the 12 possible chord degrees. The player must identify the\n      correct chord degree of the 'mystery tone' (marked as '???') in relation\n      to the progression's musical key. Play the chord progression as many times\n      as necessary to internalize the scale of the key in relation to the\n      mystery tone. To hear a single instance of any of the chords or the\n      mystery tone click on its corresponding box. For a new key and mystery\n      tone, select 'KEY CHANGE'. At the top right of the game board is an\n      average of attempts followed by a percentage of correct.\n    </p>\n  </div>\n);\n\nexport default HowToPlay;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport NavBar from \"./NavBar\";\nimport GameContainer from \"./GameContainer\";\nimport About from \"./About\";\nimport HowToPlay from \"./HowToPlay\";\n\nconst App = () => {\n  return (\n    <div className=\"app\">\n      <Router>\n        <NavBar />\n        <Switch>\n          <Route exact path=\"/\" component={GameContainer} />\n          <Route path=\"/about\" component={About} />\n          <Route path=\"/howtoplay\" component={HowToPlay} />\n        </Switch>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}